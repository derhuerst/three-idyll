<!DOCTYPE html>

<html>
<head>
	<meta charset="utf-8">
	<title>My first Three.js app</title>
	<style>
html, body, canvas{
	margin: 0;
	padding: 0;
}
canvas{
	width: 100%;
	height: 100%;
}
	</style>
</head>
<body>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r71/three.js"></script>
	<script src="simplex-noise.js"></script>
	<script src="generation.js"></script>
	<script>
var size = 100;

var scene = new THREE.Scene();
var camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 1000);
camera.position.z = size * 1.2;
camera.position.y = size;
camera.position.x = 0;
camera.lookAt(new THREE.Vector3(0, size / 2, size / 2));
var renderer = new THREE.WebGLRenderer();
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

box = new THREE.Object3D();
box.rotation.x = -Math.PI / 2;
box.rotation.z += Math.PI / 8;
scene.add(box);

var terrain = terrain(Math.random);

var plane = new THREE.PlaneGeometry(size - 1, size - 1, size - 1, size - 1);
var i, x, y;
for(x = 0; x < size; x++){
	for(y = 0; y < size; y++){
		i = x * size + y;
		plane.vertices[i].z = terrain.z(x, y);
	}
}
plane.computeFaceNormals();
plane.computeVertexNormals();

var mesh = new THREE.Mesh(plane, new THREE.MeshNormalMaterial({
	wireframe: true
}));
box.add(mesh);

renderer.render(scene, camera);
	</script>
</body>
</html>
